<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
<div class="flex min-h-screen bg-gray-50">

  <!-- Sidebar -->
  <aside class="p-2 bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200 flex flex-col items-center py-6 space-y-8 shadow-lg">
    <!-- Logo -->
    <h1 class="text-xl font-extrabold text-blue-400">PH</h1>

    <!-- Nav Icons -->
     <!-- Home -->
    <nav class="flex flex-col space-y-6 text-2xl">
      <a routerLink="/home" routerLinkActive="active" class="hover:text-blue-400 transition-colors duration-200" title="Home">
        <i class='bx bx-home text-2xl '></i>
        
      </a>
      <!-- Create Post -->
      <a routerLink="/post" routerLinkActive="active" class="hover:text-blue-400 animate-pulse transition-colors duration-200" title="Create Post">
       <i class='bxr  bx-plus-circle'  ></i>  

      </a>

      <!-- Update Post -->
       <button popovertarget="update" class="cursor-pointer">

         <a    class="hover:text-blue-400 transition-colors duration-200" title="Update Post">
           <i class='bx bx-edit'></i>
          </a>
        </button>

      <!-- View Your Posts -->
      <a routerLink="/show" routerLinkActive="active" class="hover:text-blue-400 transition-colors duration-200" title="My Posts">
        <i class='bx bx-file'></i>
      </a>

      <!-- View All Posts -->
      <a routerLink="/home" routerLinkActive="active" class="hover:text-blue-400 transition-colors duration-200" title="All Posts">
        <i class='bx bx-news'></i>
      </a>
      <!-- need help -->
        <a routerLink="/help" routerLinkActive="active" class="hover:text-blue-400 transition-colors duration-200" title="Help">
       <!-- Help Icon -->
<i class="bx bx-help-circle   "></i>

      </a>
    </nav>

    <!-- Bottom Logout -->
    <button routerLink="/" class="mt-auto mb-4 hover:text-red-400 text-xl transition-colors duration-200" title="Logout">
      <i class='bx bx-log-out'></i>
    </button>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col">

    <!-- Header -->
    <header class="bg-gradient-to-r from-gray-900 to-gray-800 text-gray-100 flex justify-between items-center px-6 py-4 shadow-md">
      <h1 class="text-2xl font-bold text-blue-400">PostHub</h1>
      <button (click)="lgo()" class="bg-blue-600 cursor-pointer hover:bg-blue-700 px-4 py-2 rounded-lg shadow-md transition duration-200"  routerLink="/login">
        Logout
      </button>
      
    </header>

    
   

    <!-- Router Content -->
    <section class="flex-1 lg:p-6 p-2">
      <router-outlet></router-outlet>
    </section>
<div class="min-h-screen bg-gray-100 flex">

  <!-- Left Sidebar -->
  <aside class="w-64 bg-white shadow-lg hidden md:flex flex-col p-6 space-y-6">
    <h1 class="text-2xl font-bold text-blue-600">PostHub</h1>
    <ul class="space-y-4 text-gray-600 font-medium">
      <li><a routerLink="/home" class="flex items-center gap-2 hover:text-blue-600">
        <i class="bx bx-home text-xl"></i> Home
      </a></li>
      <li><a routerLink="/post" class="flex items-center gap-2 hover:text-blue-600">
        <i class="bx bx-plus-circle text-xl"></i> Create Post
      </a></li>
      <li><a routerLink="/home" class="flex items-center gap-2 hover:text-blue-600">
        <i class="bx bx-compass text-xl"></i> Posts
      </a></li>
      <li><a routerLink="/help" class="flex items-center gap-2 hover:text-blue-600">
        <i class="bx bx-help-circle text-xl"></i> Help
      </a></li>
    </ul>
  </aside>

  <!-- Main Content / Feed -->
  <main class="flex-1 p-6 space-y-6">
   <div class="my-6 text-center">
  <h1 class="text-4xl font-extrabold text-blue-600 tracking-wide drop-shadow-md animate-pulse">
    Your Posts
  </h1>
  <p class="text-gray-500 mt-2 text-lg">
    See all the posts you have created so far!
  </p>
</div>


     <div class="flex-1 p-2 space-y-6">
      @for (post of postlists; track post.id) {
        @if(getemail==post.email){

          <div class="bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-300">
            
            <!-- Header: Avatar + Name + Email -->
          <div class="flex items-center p-4 gap-4">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/960px-Unknown_person.jpg?20200423155822" 
                class="w-12 h-12 rounded-full shadow" alt="User avatar" />
            <div>
              <h2 class="font-bold text-lg text-gray-800">{{ post.name }}</h2>
              <p class="text-gray-500 text-sm">{{ post.email }}</p>
            </div>
          </div>

          <!-- Display Picture -->
          <div class="w-full h-64 p-2 overflow-hidden">
            <img [src]="'data:image/png;base64,' + post.displayPicture" class="w-full h-full object-contain rounded-lg shadow" loading="lazy">
          </div>
          
          <!-- Post Body -->
          <div class="px-6 py-4">
            <p class="text-gray-700 leading-relaxed break-words whitespace-pre-line">
              {{ post.post }}
            </p>
          </div>
          
          <!-- Likes / Comments / Views -->
          <div class="flex justify-between items-center px-6 py-3 border-t border-gray-100 text-gray-600">
            <div class="flex items-center gap-1">
              <i class="bx bxs-heart text-red-500 text-xl" (click)="increment()"></i>
              <span (click)="increment()">{{count}}</span>
            </div>
            <button popovertarget="comment" class="cursor-pointer">

              <div class="flex items-center gap-1">
                <i class="bx bx-comment text-blue-500 text-xl"></i>
                <span>{{post.id+7}}</span>
              </div>
            </button>
            <div class="flex items-center text-blue-500 gap-1">
              <i class="bx bx-show text-xl"></i>
              <span>{{post.id+222}}</span>
            </div>
          </div>
          
          <!-- Footer Buttons -->
          <div class="flex justify-end space-x-4 p-4 border-t border-gray-100">
            <button class="flex items-center cursor-pointer gap-1 text-blue-600 hover:text-blue-800 transition-colors duration-200" [routerLink]="['/show', post.id]">
              <i class="bx bx-edit"></i> Edit
            </button>
            <button class="flex items-center cursor-pointer gap-1 text-red-500 hover:text-red-700 transition-colors duration-200" (click)="getid(post.id)">
              <i class="bx bx-trash"></i> Delete
            </button>
          </div>
          
        </div>
      }
     
      
      
      }
    </div>
  </main>

  <!-- Right Sidebar -->
  <aside class="w-72 bg-white shadow-lg hidden lg:flex flex-col p-6 space-y-4">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">Quick Actions</h2>
    <button routerLink="/home"
      class="flex items-center gap-2 px-4 py-3 rounded-xl shadow bg-blue-600 hover:bg-blue-700 text-white">
      <i class="bx bx-compass text-xl"></i> See All Posts
    </button>
    <button routerLink="/post"
      class="flex items-center gap-2 px-4 py-3 rounded-xl shadow bg-green-600 hover:bg-green-700 text-white">
      <i class="bx bx-plus-circle text-xl"></i> Create Post
    </button>
    <button routerLink="/help"
      class="flex items-center gap-2 px-4 py-3 rounded-xl shadow bg-red-600 hover:bg-red-700 text-white">
      <i class="bx bx-chat text-xl"></i> Need Help
    </button>

    <!-- Placeholder for future widgets -->
    <div class="mt-6 text-gray-500 text-sm border-t pt-4">
      Coming soon: Friends List, Trends...
    </div>
  </aside>
</div>
</main>

</div>
 <!-- show popover -->
<dialog id="comment" popover>
 
 <div class="con p-4 rounded-md bg-white">
<h1 class="font-[Roboto] text-blue-500  font-bold">Inbuild feature</h1>
   <div class="relative flex w-64 animate-pulse gap-2 p-4">
     <div class="h-12 w-12 rounded-full bg-slate-400"></div>
  <div class="flex-1">
    <div class="mb-1 h-5 w-3/5 rounded-lg bg-slate-400 text-lg"></div>
    <div class="h-5 w-[90%] rounded-lg bg-slate-400 text-sm"></div>
  </div>
  <div class="absolute bottom-5 right-0 h-4 w-4 rounded-full bg-slate-400"></div>
</div>
      <button type="button" class="btn-accept" popovertargetaction="hide" popovertarget="comment">OK</button>




    </div>
    </dialog>

     <!-- update popover -->
<dialog id="update" popover>
 
 <div class="w-80 mx-auto bg-white shadow-lg rounded-2xl p-6 ">
  
  <!-- Instruction Text -->
  <p class="text-gray-700 font-medium">
  üìù To edit the post, click the Edit button below Posts"
  </p>

  <!-- Empty Image Placeholder -->
  <div class="  flex items-center justify-center text-gray-400">
 <img src="edit.png" alt="" class="object-cover border-2 border-dashed rounded-md">
  </div>

  
        <button type="button" class="btn-accept  " popovertargetaction="hide" popovertarget="update">OK</button>



</div>




   
    </dialog>
<!-- Router Outlet -->
<router-outlet></router-outlet>
